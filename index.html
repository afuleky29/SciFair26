<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Roboflow Workflow Demo</title>
    <style>
        body {
            font-family: Arial;
            margin: 40px;
            line-height: 1.5;
        }
        #preview {
            width: 300px;
            margin-top: 20px;
            display: none;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            background: #f2f2f2;
            border-radius: 6px;
            white-space: pre-wrap;
            font-family: monospace;
        }
    </style>
</head>
<body>

    <h1>Roboflow Custom Workflow Demo</h1>

    <p>Paste an image URL below and click <strong>Run Workflow</strong>.</p>

    <input id="imageUrl" type="text" placeholder="Enter image URL" size="60">

    <button onclick="runWorkflow()">Run Workflow</button>

    <img id="preview">

    <div id="output"></div>

    <script>
        async function runWorkflow() {
            const url = document.getElementById("imageUrl").value.trim();

            if (!url) {
                alert("Please enter an image URL.");
                return;
            }

            // Show preview
            const preview = document.getElementById("preview");
            preview.src = url;
            preview.style.display = "block";

            // Call Roboflow workflow
            const response = await fetch(
                "https://serverless.roboflow.com/science-fair-2526/workflows/custom-workflow",
                {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        api_key: "rf_ZOnzIlEwN2WLuvYiUReiHm6kUr72",
                        inputs: {
                            "image": { "type": "url", "value": url }
                        }
                    })
                }
            );

            const result = await response.json();

            // Show results
            document.getElementById("output").textContent =
                JSON.stringify(result, null, 2);
        }
    </script>

</body>
</html>
